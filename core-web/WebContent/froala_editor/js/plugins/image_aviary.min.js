/*!
 * froala_editor v2.6.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){if(a.extend(a.FE.DEFAULTS,{aviaryKey:"542e1ff5d5144b9b81cef846574ba6cf",aviaryScriptURL:"https://dme0ih8comzn4.cloudfront.net/imaging/v3/editor.js"}),a.FE.PLUGINS.imageAviary=function(b){function c(a,b){var c=document.createElement("script");c.type="text/javascript",c.src=a,c.innerText="",c.onload=b,document.getElementsByTagName("head")[0].appendChild(c)}function d(){c(b.opts.aviaryScriptURL,e)}function e(){g=new Aviary.Feather({apiKey:b.opts.aviaryKey,displayImageSize:!0,theme:"minimum",onSave:function(c,d){var e=new Image;e.crossOrigin="Anonymous",e.onload=function(){var c=document.createElement("CANVAS"),d=c.getContext("2d");c.height=this.height,c.width=this.width,d.drawImage(this,0,0);for(var e=c.toDataURL("image/png"),f=atob(e.split(",")[1]),i=[],j=0;j<f.length;j++)i.push(f.charCodeAt(j));var k=new Blob([new Uint8Array(i)],{type:"image/jpeg"});b.image.edit(a(h)),b.image.upload([k]),g.close()},e.src=d,g.showWaitIndicator()},onError:function(a){throw new Error(a.message)},onClose:function(){b.image.get()||b.image.edit(a(h))}})}function f(){h=b.image.get()[0],g.launch({image:h,url:h.src})}var g,h;return{_init:d,launch:f}},a.FE.DefineIcon("aviary",{NAME:"sliders"}),a.FE.RegisterCommand("aviary",{title:"Advanced Edit",undo:!1,focus:!1,callback:function(a,b){this.imageAviary.launch(b)},plugin:"imageAviary"}),!a.FE.PLUGINS.image)throw new Error("Image Aviary plugin requires image plugin.");a.FE.DEFAULTS.imageEditButtons.indexOf("imageStyle")>-1&&a.FE.DEFAULTS.imageEditButtons.splice(a.FE.DEFAULTS.imageEditButtons.indexOf("imageStyle"),1),a.FE.DEFAULTS.imageEditButtons.push("aviary")});